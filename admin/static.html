<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ© â€“ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body { font-family:'Cairo',sans-serif;background:#f5f6fa;margin:0; }
.container{
  margin-right:250px;
  padding:25px;
}
input, textarea {
  width:100%;
  padding:12px;
  border:1px solid #ccc;
  border-radius:8px;
  margin-bottom:15px;
  font-size:16px;
}
button{
  padding:12px 25px;
  background:#006b6a;
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-size:17px;
}
</style>
</head>

<body>

<div class="container">
  <h2>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©</h2>

  <h3>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h3>
  <textarea id="privacyBox" style="height:200px;"></textarea>

  <h3>Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h3>
  <textarea id="termsBox" style="height:200px;"></textarea>

  <button onclick="saveStatic()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
</div>

<script>
// â­ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ localhost ÙˆØ¹Ù„Ù‰ Render ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
const API = window.location.origin;

async function loadStatic(){
  try {
    const res = await fetch(API + "/api/static/all");
    const data = await res.json();

    document.getElementById("privacyBox").value = data.privacy || "";
    document.getElementById("termsBox").value = data.terms || "";
  } catch (e) {
    console.error("Load Error:", e);
    alert("ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª â€“ ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± ÙŠØ¹Ù…Ù„");
  }
}

async function saveStatic(){
  try {
    const body = {
      privacy: document.getElementById("privacyBox").value,
      terms: document.getElementById("termsBox").value
    };

    await fetch(API + "/api/static/update",{
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body:JSON.stringify(body)
    });

    alert("âœ” ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø¨Ù†Ø¬Ø§Ø­");
  } catch (e) {
    console.error("Save Error:", e);
    alert("ØªØ¹Ø°Ø± Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª â€“ ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± ÙŠØ¹Ù…Ù„");
  }
}

loadStatic();
</script>

</body>
</html>
